# Electric Load Demand Modeling of 5G Base Stations

## Overview

This repository contains a comprehensive report on electric load demand modeling for 5G base stations (BSs), considering multiple terminals' activation and usage patterns. The modeling approach utilizes probability distributions, Monte Carlo simulations, and detailed nomenclature to predict BS power consumption behavior. Understanding these dynamics is critical for assessing the energy impact of 5G technology in urban environments.

## Nomenclature

- **\( k \)**: Type of area (e.g., residential, shopping, office)
- **\( sₐ \)**: Sample label for hourly activated terminals
- **\( sₓ \)**: Sample label for hourly data usage of one terminal
- **\( t \)**: Time interval

## Variables

- **\( P_{i,\text{AAU}}(t) \)**: Incremental power consumption of the Active Antenna Unit (AAU) at time \( t \) [kW]
- **\( P_{\text{idd},\text{AAU}}(t) \)**: Incremental power consumption of the AAU due to downlink data at time \( t \) [kW]
- **\( P_{\text{ids},\text{AAU}}(t) \)**: Incremental power consumption of the AAU due to downlink signaling at time \( t \) [kW]
- **\( P_{\text{we}}(t) \)**: Total power consumption of the 5G BS at time \( t \) [kW]
- **\( R_{\text{ds}}(t) \)**: Downlink signaling Resource Elements (REs) of the 5G BS at time \( t \) [RE/s]
- **\( T_{\text{dd}}(t) \)**: Downlink data rate of the 5G BS at time \( t \) [Mbps]
- **\( R_{\text{ds},k}(t) \)**: Total equivalent \( R_{\text{ds}}(t) \) in area \( k \) [RE/s]
- **\( T_{\text{dd},k}(t) \)**: Total equivalent \( T_{\text{dd}}(t) \) in area \( k \) [Mbps]
- **\( T_{\text{dd},k}(t, s_a) \)**: Total downlink data usage in area \( k \) at time \( t \) calculated by Monte Carlo \( s_a \)th sample [MB/h]
- **\( T_{\text{dd},k}(t, s_a, s_d) \)**: Downlink data usage of one terminal in area \( k \) at time \( t \) generated by Monte Carlo \( s_d \)th sample under \( s_a \)th activated terminals Monte Carlo sample [MB/h]
- **\( P_{i,\text{AAU},k}(t) \)**: Total \( P_{i,\text{AAU}}(t) \) in area \( k \) [kW]
- **\( P_{\text{idd},\text{AAU},k}(t) \)**: Total \( P_{\text{idd},\text{AAU}}(t) \) in area \( k \) [kW]
- **\( P_{\text{ids},\text{AAU},k}(t) \)**: Total \( P_{\text{ids},\text{AAU}}(t) \) in area \( k \) [kW]
- **\( P_{\text{we},k}(t) \)**: Total \( P_{\text{we}}(t) \) in area \( k \) [kW]
- **\( \mu_{\text{data},k}(t) \)**: Mean value of total data usage at time \( t \) in area \( k \) [MB/h]
- **\( \alpha^h_k(t) \)**: Data usage of one activated terminal in area \( k \) at time \( t \) for heavy use state
- **\( \alpha^n_k(t) \)**: Data usage of one activated terminal in area \( k \) at time \( t \) for normal use state
- **\( \beta_k(t) \)**: Number of activated terminals in area \( k \) at time \( t \)
- **\( \beta_k(t, s_a) \)**: Number of activated terminals in area \( k \) at time \( t \) generated by Monte Carlo \( s_a \)th sample

## Parameters

- **\( A_{\text{RE}} \)**: Average amount of downlink data carried by each downlink signaling RE [Mb/RE]
- **\( M_{\alpha^h_k} \)**: Mean value of historical hourly data usage for heavy use state
- **\( M_{\alpha^n_k} \)**: Mean value of historical hourly data usage for normal use state
- **\( N_k \)**: Number of base stations (BSs) in area \( k \)
- **\( N_m \)**: Monte Carlo sampling times for acquiring the mean value of hourly total data usage
- **\( P_{\text{ac},\text{pe}}(t) \)**: Power consumption of air conditioning and power equipment for each BS at time \( t \) [kW]
- **\( P_{\text{b},\text{AAU}} \)**: Baseline power consumption of AAU [kW]
- **\( P_{\text{b},\text{AAU},k} \)**: Total \( P_{\text{b},\text{AAU}} \) in area \( k \) [kW]
- **\( P_{\text{b},\text{BBU}} \)**: Baseline power consumption of the baseband unit (BBU) [kW]
- **\( P_{\text{b},\text{BBU},k} \)**: Total \( P_{\text{b},\text{BBU}} \) in area \( k \) [kW]
- **\( P_{\text{max},\text{AAU}} \)**: Maximum energy consumption of the AAU through measurement [kW]
- **\( R_{\text{dd},\text{RE}} \)**: Total available REs for downlink data per second [RE/s]
- **\( R_{\text{ds},\text{max}} \)**: Maximum available signaling REs for downlink data and variable signaling in one 5G BS [RE/s]
- **\( R_{\text{ds},\text{RE}} \)**: Total available REs for variable signaling per second [RE/s]
- **\( T_{\text{dd},\text{max}} \)**: Maximum downlink data rate of the BS [Mbps]
- **\( \gamma_Q \)**: Conversion coefficient between the parameter of exponential distribution for 5G data usage with different quality levels and the mean value of hourly historical data usage
- **\( \theta_{\alpha^h_k}(t) \)**: Parameter of exponential distribution for \( \alpha^h_k(t) \)
- **\( \theta_{\alpha^n_k}(t) \)**: Parameter of exponential distribution for \( \alpha^n_k(t) \)
- **\( \lambda_{\beta_k}(t) \)**: Parameter of Poisson distribution for \( \beta_k(t) \)
- **\( \xi_{s_d} \)**: Terminals activated per unit area with different crowd aggregation degrees [terminals/(100 m²)]

## Functions

- **\( f(x) \)**: Probability density function of a continuous random variable \( x \)
- **\( P(x = n) \)**: Probability distribution of a discrete random variable \( x \)

## Electric Load Characteristics of 5G Base Stations

### Components of Electric Load

- **Main Wireless Equipment Load**: Focus of the study
- **Air Conditioning Equipment Load**: Considered constant throughout the study
- **Lighting Equipment Load**: Ignored as it is only activated during maintenance
- **Power Equipment Load**: Accounts for approximately 8% of the main wireless equipment load and is considered constant

### Power Consumption Model

- **AAU + BBU Structure**: Dominant in urban areas and the primary focus of the study
- **RRU + BBU Structure**: Used in suburban areas with lower communication demand, similar to 4G BS

### Power Consumption Components

- **Baseline Power Consumption**: Constant power consumption for transmitting fixed signals when no users are connected (e.g., cell reference signal, primary synchronization signal)
- **Incremental Power Consumption**: Variable power consumption for uplink and downlink data services when multiple users connect to the BS

### Power Consumption Behavior

- **AAU**: The power consumption of the AAU increases significantly with the increasing number of terminal connections
- **BBU**: The BBU shows only a slight increase in power consumption, making it reasonable to consider BBU's power consumption as a fixed value in this study

### Mathematical Representation

The total power consumption of the wireless equipment in a 5G BS at any time \( t \) consists of both static baseline power consumption and time-varying incremental power consumption, represented by the equation:

\[
P_{\text{we}}(t) = P_{i,\text{AAU}}(t) + P_{b,\text{AAU}} + P_{b,\text{BBU}}
\]

## Incremental Power Consumption of AAU

The incremental power consumption of the AAU, denoted as \( P_{i,\text{AAU}}(t) \), includes the power consumption due to downlink data transmission and downlink signaling when multiple users are connected to the base station. This power consumption is influenced by the type of mobile services activated by the connected users.

### Total Incremental Power Consumption

\[
P_{i,\text{AAU}}(t) = P_{\text{idd},\text{AAU}}(t) + P_{\text{ids},\text{AAU}}(t)
\]

### Power Consumption Related to Downlink Data Volume

\[
P_{\text{idd},\text{AAU}}(t) = \frac{P_{\text{max},\text{AAU}} - P_{\text{b},\text{AAU}}}{T_{\text{dd},\text{max}}} \cdot T_{\text{dd}}(t)
\]

### Power Consumption Related to Downlink Signaling REs

\[
P_{\text{ids},\text{AAU}}(t) = \frac{P_{\text{max},\text{AAU}} - P_{\text{b},\text{AAU}}}{R_{\text{ds},\text{RE}} + R_{\text{dd},\text{RE}}} \cdot R_{\text{ds}}(t)
\]

### Relationship Between Data Rate and Signaling REs

\[
T_{\text{dd}}(t) = A_{\text{RE}} \cdot R_{\text{ds}}(t)
\]

## Hourly Data Usage Model

The hourly data usage for 5G network terminals in different usage states (normal and heavy) is modeled using exponential distributions.

### Exponential Distribution for Data Usage

\[
f[\alpha^n_k(t)] = \frac{1}{\theta_{\alpha^n_k(t)}} e^{-\frac{\alpha^n_k(t)}{\theta_{\alpha^n_k(t)}}}, \quad \alpha^n_k(t) > 0
\]

\[
f[\alpha^h_k(t)] = \frac{1}{\theta_{\alpha^h_k(t)}} e^{-\frac{\alpha^h_k(t)}{\theta_{\alpha^h_k(t)}}}, \quad \alpha^h_k(t) > 0
\]

### Parameter Conversion

\[
\theta_{\alpha^n_k(t)} = \gamma_Q M_{\alpha^n_k}
\]

\[
\theta_{\alpha^h_k(t)} = \gamma_Q M_{\alpha^h_k}
\]

## Electric Load Demand Model of Multiple Terminals

This model estimates the electric load demand for multiple terminals connected to a 5G base station using a probability theory approach, particularly the Poisson distribution.

### Number of Activated Terminals

The number of activated terminals \( \beta_k(t) \) in different types of areas is modeled using a Poisson distribution:

\[
P[\beta_k(t) = n] = \frac{\lambda_{\beta_k(t)}^n e^{-\lambda_{\beta_k(t)}}}{n!}, \quad n = 1, 2, \dots
\]

## Monte Carlo Sampling Process

The Monte Carlo sampling approach models and estimates the hourly total data usage and corresponding electric load of 5G BSs.

### Generate Hourly Activated Terminals

The number of activated terminals \( \beta_k(t,s_a) \) at time \( t \) in area \( k \) is generated based on a Poisson distribution using Monte Carlo sampling.

### Generate Hourly Data Usage per Terminal

Monte Carlo sampling generates hourly data usage for each activated terminal based on the exponential distribution.

\[
T_{\text{dd},k}(t,s_a) = \sum_{s_d=1}^{\beta_k(t,s_a)} T_{\text{dd},k}(t,s_a,s_d)
\]

### Calculate Mean Total Data Usage

The mean total data usage \( \mu_{\text{data},k}(t) \) in area \( k \) at time \( t \) is calculated as:

\[
\mu_{\text{data},k}(t) = \frac{1}{N_m} \sum_{s_a=1}^{N_m} T_{\text{dd},k}(t,s_a)
\]

## Calculation of Downlink Data Rate and Signaling REs

### Total Equivalent Downlink Data Rate

\[
T_{\text{dd},k}(t) = 8 \cdot \mu_{\text{data},k}(t) / 3600
\]

### Implications for 5G BS Electric Load

The estimation of the total electric load of 5G BSs provides insights into how the network’s energy consumption fluctuates based on user demand and service usage.

## Final Process: Calculating the Total Power Consumption of 5G BSs

The process for calculating the total power consumption of 5G BSs in a given area \( k \) at time \( t \) involves both incremental and baseline power consumption considerations.

### Incremental Power Consumption of AAU

\[
P_{\text{i},\text{AAU},k}(t) = P_{\text{idd},\text{AAU},k}(t) + P_{\text{ids},\text{AAU},k}(t)
\]

### Total Power Consumption for the 5G BS

\[
P_{\text{we},k}(t) = P_{\text{i},\text{AAU},k}(t) + P_{\text{b},\text{AAU},k} + P_{\text{b},\text{BBU},k}
\]

### Final Total Power Consumption Including Air Conditioning and Power Equipment

\[
P_{\text{S\_total},k}(t) = P_{\text{we},k}(t) + N_k \cdot P_{\text{ac},\text{pe}}(t)
\]

This comprehensive model allows for the precise estimation of power consumption by 5G BSs, providing a critical tool for managing energy efficiency and optimizing network performance.
